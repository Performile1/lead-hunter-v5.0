# Admin Settings Guide - Systeminst√§llningar

## üé® √ñVERSIKT

AdminSettings √§r en kraftfull komponent f√∂r att anpassa DHL Lead Hunter's utseende och branding. Admin-anv√§ndare kan √§ndra f√§rgschema, anpassa login-text och ladda upp egen logotyp.

---

## üìç √ÖTKOMST

**Var:** Header ‚Üí Verktyg-menyn ‚Üí "Systeminst√§llningar"

**Beh√∂righet:** Endast **ADMIN**-anv√§ndare

**Ikon:** ‚öôÔ∏è Settings med r√∂d "ADMIN"-badge

---

## üé® F√ÑRGSCHEMA

### F√∂rdefinierade Teman

**1. DHL Standard** (Default)
- Primary: `#D40511` (DHL R√∂d)
- Secondary: `#FFCC00` (DHL Gul)
- Accent: `#000000` (Svart)
- Background: `#FFFFFF` (Vit)
- Text: `#1F2937` (M√∂rkgr√•)

**2. M√∂rkt Tema**
- Primary: `#D40511` (DHL R√∂d)
- Secondary: `#FFCC00` (DHL Gul)
- Accent: `#1F2937` (M√∂rkgr√•)
- Background: `#111827` (N√§stan svart)
- Text: `#F9FAFB` (Ljusgr√•)

**3. Ljust Tema**
- Primary: `#3B82F6` (Bl√•)
- Secondary: `#60A5FA` (Ljusbl√•)
- Accent: `#1E40AF` (M√∂rkbl√•)
- Background: `#F9FAFB` (Ljusgr√•)
- Text: `#111827` (M√∂rkgr√•)

**4. Custom** (Anpassat)
- V√§lj egna f√§rger f√∂r alla komponenter
- F√§rgv√§ljare + hex-input
- Full kontroll √∂ver varje f√§rg

### Hur √Ñndra F√§rgschema

1. √ñppna **Systeminst√§llningar**
2. Klicka p√• √∂nskat tema i listan
3. F√∂r **Custom**: Anv√§nd f√§rgv√§ljare eller skriv hex-kod
4. Klicka **F√∂rhandsgranska** f√∂r att se resultatet
5. Klicka **Spara** f√∂r att till√§mpa

**F√§rgkomponenter:**
- **Primary** - Huvudf√§rg (knappar, rubriker)
- **Secondary** - Sekund√§r f√§rg (accenter, highlights)
- **Accent** - Accentf√§rg (borders, ikoner)
- **Background** - Bakgrundsf√§rg
- **Text** - Textf√§rg

---

## üìù LOGIN-TEXT

Anpassa texten som visas p√• login-sidan.

### Redigerbara F√§lt

**1. Titel**
- Default: "DHL Lead Hunter"
- Visas som stor rubrik p√• login-sidan
- Max 50 tecken rekommenderat

**2. Undertitel**
- Default: "Sales Intelligence Platform"
- Visas under titeln
- Max 100 tecken rekommenderat

**3. V√§lkomstmeddelande**
- Default: "V√§lkommen till DHL Lead Hunter - din kraftfulla plattform f√∂r leadgenerering och kundanalys."
- L√§ngre beskrivande text
- Max 300 tecken rekommenderat

**4. Footer-text**
- Default: "¬© 2024 DHL. Alla r√§ttigheter f√∂rbeh√•llna."
- Visas l√§ngst ner p√• login-sidan
- Max 100 tecken rekommenderat

### Hur √Ñndra Login-text

1. √ñppna **Systeminst√§llningar**
2. Scrolla till **Login-text** sektionen
3. Redigera √∂nskade f√§lt
4. Klicka **F√∂rhandsgranska** f√∂r att se resultatet
5. Klicka **Spara** f√∂r att till√§mpa

**Tips:**
- H√•ll texten kort och koncis
- Anv√§nd f√∂retagets branding och ton
- Testa f√∂rhandsgranskningen innan du sparar

---

## üñºÔ∏è LOGOTYP

Ladda upp egen logotyp som visas i topbar och p√• login-sidan.

### Specifikationer

**Rekommenderad storlek:** 200x60px

**Format som st√∂ds:**
- PNG (rekommenderat f√∂r transparens)
- JPG/JPEG
- SVG (vektorformat)
- WebP

**Max filstorlek:** 5MB

**Placering:**
- Topbar (Header)
- Login-sida (ovanf√∂r formul√§r)

### Hur Ladda Upp Logo

1. √ñppna **Systeminst√§llningar**
2. G√• till **Logotyp** sektionen
3. Klicka **Ladda upp logo**
4. V√§lj bildfil fr√•n din dator
5. F√∂rhandsgranska resultatet
6. Klicka **Spara** f√∂r att till√§mpa

**Tips:**
- Anv√§nd transparent bakgrund (PNG)
- Optimera bilden f√∂r webben
- Testa olika storlekar f√∂r b√§sta resultat
- Logo visas automatiskt i Header efter sparande

---

## üëÅÔ∏è F√ñRHANDSGRANSKNING

Innan du sparar kan du f√∂rhandsgranska alla √§ndringar.

### Hur Anv√§nda F√∂rhandsgranskning

1. G√∂r dina √§ndringar (f√§rg, text, logo)
2. Klicka **F√∂rhandsgranska**
3. Se en mockup av login-sidan med dina √§ndringar
4. St√§ng f√∂rhandsgranskning om du vill justera
5. Klicka **Spara** n√§r du √§r n√∂jd

**F√∂rhandsgranskningen visar:**
- Login-formul√§r med nya f√§rger
- Anpassad text (titel, undertitel, meddelande, footer)
- Uppladdad logo
- Knappar och inputs med nya f√§rger

---

## üíæ SPARA INST√ÑLLNINGAR

### Sparningsprocess

1. Klicka **Spara**-knappen (r√∂d, h√∂gst upp till h√∂ger)
2. Systemet laddar upp logo (om √§ndrad)
3. Systemet sparar f√§rgschema i databasen
4. Systemet sparar login-text i databasen
5. Bekr√§ftelse visas: "‚úÖ Inst√§llningar sparade!"
6. Sidan laddas om automatiskt
7. Nya inst√§llningar till√§mpas direkt

**Vad sparas:**
- F√§rgschema (alla 5 f√§rger)
- Login-text (alla 4 f√§lt)
- Logo-URL (om uppladdad)
- Tidsst√§mpel och admin-anv√§ndare

---

## üîÑ √ÖTERST√ÑLL TILL STANDARD

√Öterst√§ll alla inst√§llningar till DHL-standard.

### Hur √Öterst√§lla

1. Klicka **√Öterst√§ll**-knappen (gr√•, h√∂gst upp)
2. Bekr√§fta i dialogrutan
3. Alla inst√§llningar √•terst√§lls till:
   - DHL Standard f√§rgschema
   - Original login-text
   - Ingen custom logo

**Varning:** Denna √•tg√§rd kan inte √•ngras!

---

## üîß TEKNISK INFORMATION

### Backend API

**GET /api/settings**
- H√§mtar alla systeminst√§llningar
- Returnerar f√§rgschema, login-text, logo-URL

**PUT /api/settings**
- Uppdaterar systeminst√§llningar
- Body: `{ colorScheme, loginText, logoUrl, customLogo }`

**POST /api/settings/upload-logo**
- Laddar upp logo-fil
- Multipart form-data
- Returnerar: `{ url, filename }`

### Databas

**Tabell:** `system_settings`

**Nycklar:**
- `ui_color_scheme` (JSON)
- `ui_login_text` (JSON)
- `ui_logo_url` (string)
- `ui_custom_logo` (boolean)

### CSS Variables

F√§rgschema till√§mpas via CSS custom properties:

```css
:root {
  --color-primary: #D40511;
  --color-secondary: #FFCC00;
  --color-accent: #000000;
  --color-background: #FFFFFF;
  --color-text: #1F2937;
}
```

Dessa uppdateras automatiskt n√§r inst√§llningar sparas.

---

## üìÅ FILER

**Frontend:**
- `components/AdminSettings.tsx` - Huvudkomponent
- `components/Header.tsx` - Meny-integration
- `App.tsx` - State management

**Backend:**
- `server/routes/settings.js` - API endpoints
- `server/public/uploads/logos/` - Logo-lagring

---

## üéØ ANV√ÑNDNINGSFALL

### Use Case 1: Byta till M√∂rkt Tema

**Scenario:** F√∂retaget vill ha m√∂rkt tema f√∂r b√§ttre ergonomi.

**Steg:**
1. √ñppna Systeminst√§llningar
2. V√§lj "M√∂rkt tema"
3. F√∂rhandsgranska
4. Spara
5. Sidan laddas om med m√∂rkt tema

**Resultat:** Hela systemet anv√§nder m√∂rka f√§rger.

---

### Use Case 2: Anpassa Branding

**Scenario:** F√∂retaget vill anv√§nda egen branding.

**Steg:**
1. √ñppna Systeminst√§llningar
2. V√§lj "Custom" f√§rgschema
3. Ange f√∂retagets f√§rger (hex-koder)
4. √Ñndra login-text till f√∂retagsnamn
5. Ladda upp f√∂retagets logo
6. F√∂rhandsgranska allt
7. Spara

**Resultat:** Systemet matchar f√∂retagets branding.

---

### Use Case 3: S√§songsanpassning

**Scenario:** Julkampanj med speciella f√§rger.

**Steg:**
1. √ñppna Systeminst√§llningar
2. V√§lj "Custom"
3. Ange jul-f√§rger (r√∂d, gr√∂n, vit)
4. √Ñndra v√§lkomstmeddelande: "God Jul! V√§lkommen till v√•r julkampanj..."
5. Ladda upp jul-logo
6. Spara

**Resultat:** Systemet har jultema.

**Efter kampanj:** Klicka "√Öterst√§ll" f√∂r att g√• tillbaka till standard.

---

## ‚ö†Ô∏è VIKTIGA NOTERINGAR

### Beh√∂righeter

- **Endast ADMIN** kan √§ndra inst√§llningar
- Andra roller ser inte "Systeminst√§llningar" i menyn
- API-endpoints kr√§ver admin-autentisering

### Prestanda

- Logo-filer optimeras automatiskt
- F√§rgschema till√§mpas via CSS variables (snabbt)
- Inga prestanda-problem vid byte av tema

### S√§kerhet

- Alla uploads valideras (filtyp, storlek)
- Endast bildformat till√•ts
- Filer sparas i s√§ker mapp
- Admin-√•tg√§rder loggas

### Kompatibilitet

- Fungerar i alla moderna browsers
- Responsiv design (desktop, tablet, mobil)
- St√∂d f√∂r dark mode och light mode
- Tillg√§nglighet (WCAG-kompatibel)

---

## üêõ FELS√ñKNING

### Problem: Inst√§llningar sparas inte

**L√∂sning:**
1. Kontrollera att du √§r inloggad som ADMIN
2. Kontrollera backend-anslutning (port 3001)
3. Kolla browser console f√∂r fel
4. Verifiera databas-anslutning

### Problem: Logo visas inte

**L√∂sning:**
1. Kontrollera filformat (PNG, JPG, SVG)
2. Kontrollera filstorlek (max 5MB)
3. Verifiera att upload lyckades (kolla response)
4. Kontrollera att `public/uploads/logos/` finns
5. Ladda om sidan

### Problem: F√§rger till√§mpas inte

**L√∂sning:**
1. Klicka "Spara" (inte bara f√∂rhandsgranska)
2. V√§nta p√• bekr√§ftelse
3. Ladda om sidan manuellt om auto-reload misslyckas
4. Rensa browser cache

### Problem: F√∂rhandsgranskning fungerar inte

**L√∂sning:**
1. Kontrollera att alla f√§lt √§r ifyllda
2. Verifiera att f√§rgkoder √§r giltiga hex-v√§rden
3. St√§ng och √∂ppna f√∂rhandsgranskning igen

---

## üìû SUPPORT

**Vid problem:**
1. Kolla denna guide f√∂rst
2. Kontrollera browser console f√∂r felmeddelanden
3. Verifiera backend-logs
4. Kontakta systemadministrat√∂r

**Loggar:**
- Browser: F12 ‚Üí Console
- Backend: `server/logs/`
- Databas: Kolla `system_settings` tabell

---

## ‚úÖ CHECKLISTA

### Innan du √§ndrar inst√§llningar:

- [ ] Du √§r inloggad som ADMIN
- [ ] Backend k√∂rs p√• port 3001
- [ ] Databas √§r tillg√§nglig
- [ ] Du har f√∂rberett logo-fil (om relevant)
- [ ] Du har f√§rgkoder klara (om custom)

### Efter √§ndring:

- [ ] F√∂rhandsgranskad
- [ ] Sparat
- [ ] Bekr√§ftelse mottagen
- [ ] Sida omladdad
- [ ] Verifierat att √§ndringar syns
- [ ] Testat login-sida
- [ ] Testat Header-logo

---

## üöÄ BEST PRACTICES

### F√§rgschema

‚úÖ **G√∂r:**
- Anv√§nd f√∂retagets officiella f√§rger
- Testa kontrast (text mot bakgrund)
- F√∂rhandsgranska innan du sparar
- Dokumentera f√§rgkoder

‚ùå **Undvik:**
- F√∂r l√•g kontrast (sv√•rt att l√§sa)
- F√∂r m√•nga f√§rger (r√∂rigt)
- Extremt ljusa/m√∂rka f√§rger
- Slumpm√§ssiga f√§rger

### Login-text

‚úÖ **G√∂r:**
- H√•ll det kort och professionellt
- Anv√§nd f√∂retagets ton
- Inkludera relevant information
- Korrekturl√§s innan du sparar

‚ùå **Undvik:**
- F√∂r l√•nga texter
- Stavfel och grammatikfel
- Irrelevant information
- Informell ton (om inte avsiktligt)

### Logo

‚úÖ **G√∂r:**
- Anv√§nd h√∂gkvalitativ bild
- Optimera f√∂r webben
- Anv√§nd transparent bakgrund (PNG)
- Testa olika storlekar

‚ùå **Undvik:**
- F√∂r stora filer (l√•ngsam laddning)
- L√•g uppl√∂sning (pixligt)
- Fel proportioner (str√§ckt)
- Icke-professionella bilder

---

## üìä EXEMPEL

### Exempel 1: F√∂retag med Bl√• Profil

```json
{
  "colorScheme": {
    "name": "Custom",
    "primary": "#0066CC",
    "secondary": "#3399FF",
    "accent": "#003366",
    "background": "#FFFFFF",
    "text": "#333333"
  },
  "loginText": {
    "title": "Acme Corp Lead Hunter",
    "subtitle": "Sales Intelligence Platform",
    "welcomeMessage": "V√§lkommen till Acme Corp's leadgenereringsplattform.",
    "footerText": "¬© 2024 Acme Corp. All rights reserved."
  }
}
```

### Exempel 2: Minimalistiskt Tema

```json
{
  "colorScheme": {
    "name": "Custom",
    "primary": "#000000",
    "secondary": "#666666",
    "accent": "#CCCCCC",
    "background": "#FFFFFF",
    "text": "#333333"
  },
  "loginText": {
    "title": "Lead Hunter",
    "subtitle": "Simple. Powerful. Effective.",
    "welcomeMessage": "Log in to start generating leads.",
    "footerText": "Powered by AI"
  }
}
```

---

**Lycka till med att anpassa ditt system! üé®**
